# 公式编辑器使用文档
| 组件名称 | 公式编辑器 |  |  |
| --- | --- | --- | --- |
| 工具集 | 数据处理 |  |  |
| 组件作者 | 雪浪云-奔豚 |  |  |
| 文档版本 | 1.0 |  |  |
| 功能 | 编辑公式对输入数据进行简单处理 |  |  |
| 镜像名称 | data_components:3 |  |  |
| 开发语言 | Python |  |  |

## 组件原理
使用该组件实现将输入数据通过设置的公式进行简单处理

## 输入桩

### 输入端子1

- **端口名称：** 输入数据
- **输出类型：** 所有类型
- **功能描述：** Csv文件输入

## 输出桩

### 输出端子1

- **端口名称：** 输出数据
- **输出类型：** 所有类型
- **功能描述：** 将转换好的json输出

## 数据接收方式

该组件同时支持同步与异步接收方式

注：异步情况不能做数据缓存，当一个端口消息触发时，另外端口数据为None

## 参数配置
### 页面配置
1. 启动项目，打开操作公式编辑器操作页面

![](./img/%E5%85%AC%E5%BC%8F%E7%BC%96%E8%BE%91%E5%99%A81.png)

页面分为5个部分：

- 公式编辑区：编辑符合业务逻辑的公式
- 运算符：支持的算术运算符
- 变量与具体类型：输入端口可引入计算的变量（编辑公式时，点击变量即可引入，变量具体类型与输入桩类型关联）
- 函数与公式示例说明：支持的函数与使用说明
- 右侧隐藏页面（点击右侧箭头即可展示）：运行调试时可以查看输入与输出值

2. 示例

搭建一个前面板+公式计算+展示的流程，如下所示：
![](./img/%E5%85%AC%E5%BC%8F%E7%BC%96%E8%BE%91%E5%99%A82.png)

- 新建算盘项目并进入，点击右下角前面板编辑，打开前面板编辑页面拖入按钮与文本
- 回到后面板，在组件列表搜索数字，拖入两个组件
- 按流程连线
- 运行项目
- 打开数字参数配置页面，输入需要计算的两个数字
- 打开公式编辑器页面，输入加法运算公式，点击确定保存公式
- 点击右下角前面板展示链接，打开页面如下，点击按钮触发数据流并展示结果
![](./img/%E5%85%AC%E5%BC%8F%E7%BC%96%E8%BE%91%E5%99%A83.png)